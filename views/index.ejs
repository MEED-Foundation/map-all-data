<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Iraq Administrative Divisions Map</title>
    <link rel="stylesheet" href="/style.css" />
    <!-- Leaflet CSS and JS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <!-- Proj4 for coordinate transformations -->
    <script src="https://unpkg.com/proj4@2.9.2/dist/proj4.js"></script>
    <!-- Leaflet MarkerCluster for performance -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css"
    />
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
  </head>
  <body>
    <div class="container">
      <!-- Sidebar -->
      <div class="sidebar">
        <h1>Iraq Administrative Map</h1>

        <div style="margin-bottom: 15px; text-align: center">
          <button
            id="loadEverythingBtn"
            style="
              padding: 10px 20px;
              font-size: 0.9em;
              background: #2c3e50;
              color: white;
              border: 1px solid #34495e;
              border-radius: 3px;
              cursor: pointer;
              font-weight: 500;
              transition: background-color 0.2s ease;
            "
          >
            Load All Layers
          </button>
        </div>

        <div class="layer-controls">
          <h3>Administrative Boundaries</h3>
          <div id="layerControls">
            <!-- Administrative layer controls will be populated by JavaScript -->
          </div>
        </div>

        <div class="layer-controls">
          <h3>Sharawani Data Layers</h3>
          <div id="sharawaniControls">
            <!-- Sharawani layer controls will be populated by JavaScript -->
          </div>
        </div>

        <div class="layer-controls">
          <h3>Combined Dataset</h3>
          <div id="combinedControls">
            <!-- Combined dataset controls will be populated by JavaScript -->
          </div>
        </div>

        <div class="layer-controls">
          <h3>Villages Dataset</h3>
          <div id="villagesControls">
            <!-- Villages dataset controls will be populated by JavaScript -->
          </div>
        </div>

        <div class="info-panel" id="infoPanel">
          <h4>Welcome</h4>
          <p>
            Click on any administrative area to view detailed information. Use
            the checkboxes above to toggle different administrative levels.
          </p>
          <p><strong>Features:</strong></p>
          <ul
            style="
              margin-left: 15px;
              margin-top: 5px;
              color: #7f8c8d;
              font-size: 0.9em;
            "
          >
            <li>Hover to highlight areas</li>
            <li>Click for detailed info</li>
            <li>Zoom and pan the map</li>
            <li>Toggle administrative levels</li>
          </ul>
        </div>
      </div>

      <!-- Map Container -->
      <div class="map-container">
        <div id="leafletMap"></div>

        <!-- Loading Indicator -->
        <div id="loading" class="loading" style="display: none">
          <div class="loading-spinner"></div>
          <p>Loading map data...</p>
        </div>
      </div>
    </div>

    <!-- Map JavaScript -->
    <script src="/map.js"></script>
  </body>
</html>
